import React, { useEffect } from 'react';































































































































import { useDispatch, useSelector } from 'react-redux';































































































































import { Grid, Typography, CircularProgress } from '@mui/material';































































































































import { useTranslation } from 'react-i18next';































































































































import { AppDispatch, RootState } from '../app/store';































































































































import { fetchVacations, selectAllVacations, selectVacationsStatus, selectVacationsError } from '../features/vacations/vacationSlice';































































































































import { selectUser } from '../features/auth/authSlice';































































































































import VacationCard from './VacationCard';































































































































const VacationList: React.FC = () => {































































































































  const dispatch: AppDispatch = useDispatch();































































































































  const { t } = useTranslation();































































































































  const vacations = useSelector(selectAllVacations);































































































































  const status = useSelector(selectVacationsStatus);































































































































  const error = useSelector(selectVacationsError);































































































































  const user = useSelector(selectUser);































































































































  useEffect(() => {































































































































    if (status === 'idle') {































































































































      dispatch(fetchVacations());































































































































    }































































































































  }, [status, dispatch]);































































































































































































































































  if (status === 'loading') {































































































































    return <CircularProgress />;































































































































  }































































































































































































































































  if (status === 'failed') {































































































































    return <Typography color="error">{error}</Typography>;































































































































  }































































































































































































































































  return (































































































































    <Grid container spacing={3}>































































































































      {vacations.map((vacation) => (































































































































        <Grid item xs={12} sm={6} md={4} key={vacation.id}>































































































































          <VacationCard































































































































            vacation={vacation}































































































































            onFollow={() => {/* יש להוסיף לוגיקת מעקב */}}































































































































            onUnfollow={() => {/* יש להוסיף לוגיקת ביטול מעקב */}}































































































































            isFollowing={user?.followedVacations?.includes(vacation.id) || false}































































































































            isAdmin={user?.role === 'admin'}































































































































          />































































































































        </Grid>































































































































      ))}































































































































    </Grid>































































































































  );































































































































};































































































































































































































































export default VacationList;






























































































































































































































































































































